{"version":3,"file":"index.modern.js","sources":["../src/context/index.js","../src/components/search/index.js","../src/components/list/index.js","../src/components/button/index.js","../src/components/wrapper/index.js","../src/index.js"],"sourcesContent":["import React, { createContext, useContext, useRef, useCallback, useState, useEffect } from \"react\";\r\n\r\nconst DropdownContext = createContext(null)\r\nexport function useCreateContext(initialState) {\r\n\r\n    function useContextData() {\r\n        const state = useRef(initialState);\r\n\r\n        const get = useCallback(() => state.current, []);\r\n        const subscribes = useRef(new Set());\r\n        const set = useCallback((value) => {\r\n            state.current = { ...state.current, ...value };\r\n            subscribes.current.forEach((callback) => callback());\r\n        }, []);\r\n        const subscribe = useCallback((callback) => {\r\n            subscribes.current.add(callback);\r\n            return () => subscribes.current.delete(callback);\r\n        }, []);\r\n        return {\r\n            get,\r\n            set,\r\n            subscribe\r\n        }\r\n    }\r\n\r\n    const Provider = ({ children }) => {\r\n        return (\r\n            <DropdownContext.Provider value={useContextData()}>{children}</DropdownContext.Provider>\r\n        )\r\n    }\r\n\r\n    return {\r\n        Provider\r\n    }\r\n\r\n}\r\n\r\nexport function useDispatcher() {\r\n\r\n    const [state, setState] = useDropdownContext((state) => state);\r\n\r\n    const dispatch = ({ type, payload }) => {\r\n        switch (type) {\r\n            case \"toggle\":\r\n                setState({ [\"visibility\"]: !state.visibility });\r\n                break;\r\n            case \"close\":\r\n                setState({ [\"visibility\"]: false });\r\n                break;\r\n            case \"select\":\r\n                setState({ [\"visibility\"]: false, [\"selected\"]: payload });\r\n                break;\r\n\r\n            case \"clearSelected\":\r\n                setState({ [\"selected\"]: null });\r\n                break;\r\n            case \"clearSearch\":\r\n                setState({ [\"search\"]: null });\r\n                break;\r\n            case 'search':\r\n                setState({ [\"search\"]: payload.length === 0 ? null : payload });\r\n                break;\r\n        }\r\n    }\r\n\r\n    return {\r\n        dispatch\r\n    }\r\n\r\n}\r\nexport const useDropdownContext = (selector) => {\r\n    const store = useContext(DropdownContext);\r\n    if (!store) throw new Error(\"Store not found\");\r\n\r\n    const data = typeof selector === \"function\" ? () => selector(store.get()) : store.get;\r\n    const [state, setState] = useState(data);\r\n\r\n    useEffect(() => {\r\n        return store.subscribe(() => setState(data))\r\n    }, [])\r\n\r\n    return [state, store.set];\r\n}","import React from 'react'\r\nimport styles from './../../styles/style.module.scss'\r\nimport { useDispatcher, useDropdownContext } from './../../context';\r\n\r\nexport default function Search({ labels }) {\r\n    const { dispatch } = useDispatcher();\r\n    const [search, _] = useDropdownContext((state) => state[\"search\"]);\r\n    return (\r\n        <div className={styles.ListSearchWrapper}>\r\n            <span>{labels?.search ?? 'Search'}</span>\r\n            <input\r\n                placeholder={labels?.seachInputPlaceholder ?? 'Search start typing'}\r\n                value={search ?? ''}\r\n                type={\"search\"}\r\n                spellCheck={false}\r\n                onChange={(e) =>\r\n                    dispatch({ type: 'search', payload: e.target.value.toLocaleLowerCase() })\r\n                } />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useRef } from 'react'\r\nimport styles from './../../styles/style.module.scss'\r\nimport { useDispatcher, useDropdownContext } from './../../context';\r\nimport Search from '../search';\r\n\r\n\r\nfunction NotResult({ notResultLabel }) {\r\n    return (\r\n        <div className={styles.noResult}>\r\n            {notResultLabel ?? 'There is no result here.'}\r\n        </div>\r\n    )\r\n}\r\nexport function List({ options, searchable, notResultLabel, onSearchTyping, labels }) {\r\n    const { dispatch } = useDispatcher();\r\n    const [state, _] = useDropdownContext((state) => state);\r\n    const { selected, search } = state;\r\n    const listRef = useRef();\r\n    function isEqualSelected({ value, label }) {\r\n        return value.toString().toLowerCase() === selected?.value?.toString()?.toLowerCase() &&\r\n            label.toString().toLowerCase() === selected?.label?.toString()?.toLowerCase()\r\n    }\r\n\r\n\r\n\r\n    const handleSearchTyping = useCallback((search, filteredOptions) => {\r\n        typeof onSearchTyping === 'function' && onSearchTyping({ search, filteredOptions })\r\n    }, [])\r\n\r\n\r\n    const filteredOptions = useMemo(() => {\r\n        if (!search) return options;\r\n        const filtered = options.filter(\r\n            ({ value, label }) =>\r\n                value\r\n                    ?.toString()\r\n                    ?.toLocaleLowerCase()\r\n                    .replace(/\\s/, '')\r\n                    .includes(search ?? '') ||\r\n                label\r\n                    .toString()\r\n                    ?.toLocaleLowerCase()\r\n                    .replace(/\\s/, '')\r\n                    .includes(search ?? ''),\r\n        );\r\n        if (search) handleSearchTyping(search, filtered)\r\n        return filtered;\r\n    }, [search, options.length])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!selected) return\r\n        const selectedValue = filteredOptions.findIndex(isEqualSelected);\r\n        if (selectedValue < 0) return\r\n        const listHeight = listRef.current.offsetHeight;\r\n        listRef.current.scrollTop = listRef.current.children[selectedValue].offsetTop -\r\n            (listHeight / 3.6);\r\n    }, [listRef.current, filteredOptions]);\r\n\r\n    return (\r\n        <div className={styles.ListContainer}>\r\n            {searchable && (<Search labels={labels} />)}\r\n            {filteredOptions.length > 0 ? (\r\n                <div className={styles.ListWrapper} ref={listRef}>\r\n                    {filteredOptions.map((item, i) => {\r\n                        const checkIsEqual = isEqualSelected({ value: item.value, label: item.label });\r\n                        return (\r\n                            <button key={i} className={`${checkIsEqual ? styles.ListActiveItem : ''}`}\r\n                                onClick={(e) =>\r\n                                    !checkIsEqual && dispatch({ type: 'select', payload: { ...item, index: i } })}>{item.label}</button>\r\n                        )\r\n                    })}\r\n                </div>\r\n            ) : <NotResult notResultLabel={labels?.notFoundSearch} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List\r\n","import React, { Fragment } from 'react'\r\nimport styles from './../../styles/style.module.scss'\r\nimport { ReactComponent as Arrow } from './../../assets/arrow.svg'\r\nimport { useDispatcher, useDropdownContext } from './../../context';\r\n\r\nexport function Button({ labels, clearable }) {\r\n    const { dispatch } = useDispatcher();\r\n    const [state, _] = useDropdownContext((state) => state);\r\n    return (\r\n        <div className={`${styles.LabelWrapper} ${state.selected && clearable ? styles.LabelWrapperToRight : ''}`}\r\n            onClick={() => dispatch({ type: 'toggle' })}>\r\n            <button className={styles.DropdownLabel}>{state.selected ?\r\n                (\r\n                    <Fragment>\r\n                        {labels?.selectedPrefix && (<span className={styles.DropdownPrefixLabel}>{labels?.selectedPrefix}</span>)}\r\n                        <b>{state.selected.label}</b>\r\n                    </Fragment>\r\n                ) : (labels?.notSelected ?? 'Select any choose')}\r\n            </button>\r\n            <Arrow className={`${styles.DropdownLabelIcon}`} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","import React, { useEffect, memo, useRef, useMemo } from 'react'\r\nimport styles from './../../styles/style.module.scss'\r\nimport List from '../list';\r\nimport { ReactComponent as Close } from './../../assets/close.svg'\r\n\r\nimport Button from '../button';\r\nimport { useDropdownContext, useDispatcher } from './../../context';\r\nexport function Wrapper({ ...props }) {\r\n    const [state, _] = useDropdownContext((state) => state);\r\n    const { visibility, selected, search } = state;\r\n    const wrapperStatus = useRef({ defaultValue: props?.defaultValue ? false : true, isInit: true })\r\n    const { dispatch } = useDispatcher();\r\n    const divRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!selected) return\r\n        if (typeof props?.onChange === \"function\" && wrapperStatus.current.defaultValue)\r\n            props.onChange(selected)\r\n        wrapperStatus.current.defaultValue = true;\r\n    }, [selected])\r\n\r\n    const memoizedDefault = useMemo(() => {\r\n        if (!props?.defaultValue || !props?.options) return;\r\n        const defaultValue = props.options.find(({ value }) => value.toString().toLowerCase() === props?.defaultValue?.toString()?.toLowerCase());\r\n        if (!defaultValue?.value) return\r\n        return defaultValue\r\n    }, [props?.defaultValue]);\r\n\r\n    useEffect(() => {\r\n        if (!memoizedDefault) return\r\n        dispatch({ type: 'select', payload: memoizedDefault })\r\n    }, [])\r\n\r\n\r\n    const handleCloseDropdown = () => {\r\n        typeof props?.onDropdownClosed === 'function' && props.onDropdownClosed()\r\n    }\r\n\r\n    const handleOpenDropdown = () => {\r\n        typeof props?.onDropdownOpened === 'function' && props.onDropdownOpened()\r\n    }\r\n\r\n    const handleInitDropdown = () => {\r\n        typeof props?.onDropdownInit === 'function' && props.onDropdownInit()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!visibility) {\r\n            if (wrapperStatus.current.isInit)\r\n                return handleInitDropdown()\r\n            return handleCloseDropdown();\r\n        }\r\n        handleOpenDropdown();\r\n        wrapperStatus.current.isInit = false;\r\n        const handleClickOutside = (event) => {\r\n            if (divRef.current && !divRef.current.contains(event.target) && visibility)\r\n                dispatch({ type: 'close' });\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside)\r\n        return () =>\r\n            document.removeEventListener('mousedown', handleClickOutside)\r\n    }, [visibility])\r\n\r\n\r\n\r\n    const ClearButton = () => {\r\n        const handleClear = () => {\r\n            dispatch({ type: 'clearSelected' });\r\n            if (typeof props?.onClearSelected === \"function\")\r\n                props.onClearSelected()\r\n        };\r\n        return <div onClick={handleClear} className={styles.ClearButton}><Close /></div>\r\n    }\r\n\r\n    const classNameOptions = {\r\n        y: {\r\n            top: styles.DropdownTop,\r\n            bottom: styles.DropdownBottom,\r\n        },\r\n        x: {\r\n            center: styles.DropdownCenter,\r\n            left: styles.DropdownLeft,\r\n            right: styles.DropdownRight\r\n        },\r\n        fullWidthParent: styles.DropdownFullWidth\r\n    }\r\n\r\n    const classNames = useMemo(() => {\r\n        if (!props?.configs) return\r\n        return [\r\n            classNameOptions.y[props?.configs?.position?.y],\r\n            classNameOptions.x[props?.configs?.position?.x],\r\n            props?.configs?.fullWidthParent ? classNameOptions.fullWidthParent : null\r\n        ].filter(Boolean).join(\" \");\r\n    }, [props?.configs])\r\n\r\n    return (\r\n        <div ref={divRef} className={`${styles.SimpleDropdownWrapper} \r\n        ${visibility ? styles.DropdownOpened : ''} ${classNames}`}>\r\n            <Button {...props} />\r\n            {selected && props?.clearable && (<ClearButton />)}\r\n            {visibility && <List {...props} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Wrapper)\r\n","import React from 'react'\r\nimport { Wrapper } from './components';\r\nimport { useCreateContext } from './context';\r\nexport const SimpleDropdown = ({ ...props }) => {\r\n  const INIT_STATE = { visibility: false, selected: null, search: null };\r\n  const { Provider } = useCreateContext(INIT_STATE);\r\n  return <Provider><Wrapper {...props} /></Provider>\r\n}\r\n"],"names":["DropdownContext","createContext","useCreateContext","initialState","useContextData","state","useRef","get","useCallback","current","subscribes","Set","set","value","forEach","callback","subscribe","add","Provider","children","React","useDispatcher","useDropdownContext","setState","dispatch","type","payload","visibility","length","selector","store","useContext","Error","data","useState","useEffect","Search","labels","search","styles","ListSearchWrapper","seachInputPlaceholder","e","target","toLocaleLowerCase","NotResult","notResultLabel","noResult","List","options","searchable","onSearchTyping","selected","listRef","isEqualSelected","label","toString","toLowerCase","handleSearchTyping","filteredOptions","useMemo","filtered","filter","replace","includes","selectedValue","findIndex","listHeight","offsetHeight","scrollTop","offsetTop","ListContainer","ListWrapper","map","item","i","checkIsEqual","ListActiveItem","index","notFoundSearch","Button","clearable","LabelWrapper","LabelWrapperToRight","DropdownLabel","selectedPrefix","DropdownPrefixLabel","notSelected","Arrow","DropdownLabelIcon","Wrapper","props","wrapperStatus","defaultValue","isInit","divRef","onChange","memoizedDefault","find","handleCloseDropdown","onDropdownClosed","handleOpenDropdown","onDropdownOpened","handleInitDropdown","onDropdownInit","handleClickOutside","event","contains","document","addEventListener","removeEventListener","ClearButton","handleClear","onClearSelected","Close","classNameOptions","y","top","DropdownTop","bottom","DropdownBottom","x","center","DropdownCenter","left","DropdownLeft","right","DropdownRight","fullWidthParent","DropdownFullWidth","classNames","configs","position","Boolean","join","SimpleDropdownWrapper","DropdownOpened","memo","SimpleDropdown","INIT_STATE"],"mappings":"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"}